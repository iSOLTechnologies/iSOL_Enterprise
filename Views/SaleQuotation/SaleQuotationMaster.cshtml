@{
    ViewData["Title"] = "SalesQuotationMaster";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@model iSOL_Enterprise.Models.RoleModels

@using Microsoft.AspNetCore.Http

@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor

<!-- Render Body <Start> -->

<div class="content d-flex flex-column flex-column-fluid" id="kt_content">
    <!--begin::Subheader-->
    <div class="subheader py-2 py-lg-4 subheader-solid" id="kt_subheader">
        <div class="container-fluid d-flex align-items-center justify-content-between flex-wrap flex-sm-nowrap">
            <!--begin::Info-->
            <div class="d-flex align-items-center flex-wrap mr-2">
                <!--begin::Page Title-->
                <h5 class="text-dark font-weight-bold mt-2 mb-2 mr-5">iSOl</h5>
                <!--end::Page Title-->
                <!--begin::Actions-->
                <div class="subheader-separator subheader-separator-ver mt-2 mb-2 mr-4 bg-gray-200">
                </div>
                <span class="text-muted font-weight-bold mr-2">Dashboard</span>
                <span class="font-weight-bolder">/ Add  Sale Quotation</span>
                <!--end::Actions-->
            </div>
            <!--end::Info-->

        </div>
    </div>
    <!--end::Subheader-->
    <!--begin::Entry-->
    <div class="container">
        <!--begin::Card-->
        <div class="card card-custom card-sticky" id="kt_page_sticky_card">
            <div class="card-header">
                <div class="card-title">
                    <h3 class="card-label">
                        Add Details
                        <i class="mr-2"></i>
                        <!-- <small class="">try to scroll the page</small> -->
                    </h3>
                </div>
                <div class="card-toolbar">
                    <a asp-action="Index" asp-controller="SaleQuotation" class="btn btn-light-primary font-weight-bolder mr-2">
                        <i class="ki ki-long-arrow-back icon-sm"></i>Back
                    </a>
                    <div class="btn-group">
                        
                        <button type="button" class="btn btn-primary font-weight-bolder" id="btnSaveData">
                            <i class="ki ki-check icon-sm"></i>Save
                        </button>
                        @*<button type="button" class="btn btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>*@
                        @*   <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right">
                        <ul class="nav nav-hover flex-column">
                        <li class="nav-item">
                        <a href="#" class="nav-link">
                        <i class="nav-icon flaticon2-reload"></i>
                        <span class="nav-text">Save &amp; continue</span>
                        </a>
                        </li>
                        <li class="nav-item">
                        <a href="#" class="nav-link">
                        <i class="nav-icon flaticon2-add-1"></i>
                        <span class="nav-text">Save &amp; add new</span>
                        </a>
                        </li>
                        <li class="nav-item">
                        <a href="#" class="nav-link">
                        <i class="nav-icon flaticon2-power"></i>
                        <span class="nav-text">Save &amp; exit</span>
                        </a>
                        </li>
                        </ul>
                        </div>*@
                    </div>
                </div>
            </div>
            <div class="card-body">
                <!--begin::Form-->
                <form class="form" id="kt_form">


                    <input type="hidden" value="@Context.Session.GetString("Name")" id="sessionName" />
                    <input type="hidden" value="@Context.Session.GetString("Email")" id="sessionEmail" />
                    <input type="hidden" value="@Context.Session.GetString("RoleCode")" id="UserRoleCode" />
                    <input type="hidden" value="@Context.Session.GetString("DepartmentCode")" id="_DepartmentCode" />

                    <input type="hidden" value="@Context.Request.Query["Id"]" id="Guid" />
                    <input type="hidden" value="@Context.Request.Query["Source"]" id="PageGuid" />
                    <input type="hidden" value="@Context.Request.Query["DocType"]" id="DocType" />
                    <input type="hidden" value="@Context.Request.Query["DOM"]" id="DOMStatus" />

                    <input type="hidden" value="@Context.Session.GetInt32("UserId")" id="_UserId" />
                    <style>
                        .mr2 {
                            margin: 0% 2% 0% 2%;
                            /*width: 5%;*/
                        }

                        .cr2 {
                            margin: 0% 1% 0% 0%;
                            width: 5%;
                        }

                        .wdth {
                            width: 250% !important;
                        }

                        /*tr > th {
                            text-align: left;
                            width: 50px !important;
                        }
                        table {
                           display: table-cell;
                            text-align:center;
                            overflow-x: auto;
                            white-space: nowrap;
                        }

                        tr > td {
                            text-align: center;
                            width: 5% !important;
                        }*/
                        #kt_repeater_1 {
                            border-collapse: collapse;
                            width: 100%;
                            overflow-x: scroll;
                            display: block;
                        }

                        .ScrollThead,
                        .ScrollTbody {
                            display: inline-block;
                        }

                        .ScrollTbody {
                            overflow-y: auto;
                            overflow-x: hidden;
                            max-height: 300px;
                        }

                            .ScrollTbody td, .ScrollThead
                            th {
                                min-width: 160px;
                                max-width: 160px;
                                height: 40px;
                                overflow: hidden;
                                text-overflow: ellipsis;
                            }

                        .ScrollTbody2 td, .ScrollThead2
                        th {
                            min-width: 100px;
                            max-width: 160px;
                            height: 40px;
                            overflow: hidden;
                            text-overflow: ellipsis;
                        }
                    </style>
                    <div class="kt-container  kt-container--fluid  kt-grid__item kt-grid__item--fluid">
                        <div class="row">
                            <div class="col-lg-12">
                                <!--begin::Portlet-->
                                <div class="kt-portlet kt-portlet--last kt-portlet--head-lg kt-portlet--responsive-mobile" id="kt_page_portlet">

                                    <div class="kt-portlet__body">
                                        <form autocomplete="off" role="form" class="kt-form" id="F_@Context.Request.Query" name="F_@Context.Request.Query["Source"]">
                                            <div class="row">
                                                <div class="col-xl-12">
                                                    <div class="kt-section kt-section--first">
                                                        <div class="kt-section__body">


                                                            @* ----------   Header -----------*@
                                                            <div id="HeaderForm">
                                                                <div class="form-group row">

                                                                    <div class="col-md-6">
                                                                        <label>Customer</label>
                                                                        @*<input disabled type="text" class="form-control form-control-sm" >*@

                                                                        <div class="input-group">
                                                                            <input type="text" id="CardCode" class="form-control form-control-sm " placeholder="Customer" aria-describedby="basic-addon2">
                                                                            <div id="CustomerNo" class="input-group-append">
                                                                                <span class="input-group-text">
                                                                                    <i class="la la-search"></i>
                                                                                </span>
                                                                            </div>
                                                                        </div>
                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>

                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                    </div>

                                                                    <div class="col-md-6">
                                                                        <label>No.</label>
                                                                        <input id="DocNum" readonly type="text" class="form-control form-control-sm" placeholder="No.">
                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                    </div>
    
                                                                </div>

                                                                <div class="form-group row">
                                                                    <div class="col-md-6">
                                                                        <label>Name</label>
                                                                        <input type="text" id="CardName" class="form-control form-control-sm" placeholder="Name">
                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                    </div>

                                                                    <div class="col-md-6">
                                                                        <label>Status</label>
                                                                        <input disabled type="text" id="Status" class="form-control form-control-sm" value="Open">
                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                    </div>
                                                                </div>


                                                                <div class="form-group row">
                                                                    <div class="col-md-6">
                                                                        <label>Contact Person</label>
                                                                        <select class=" form-control kt-select2 ItemCode" id="CntcCode" name="param">
                                                                          
                                                                            <!-- @* @foreach (var item in Model.ListItemMaster)
                                                                             {
                                                                                 <option value="@item.ItemCode">@item.FrgnName @item.ItemName </option>
                                                                             }*@ -->
                                                                        </select>
                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                    </div>

                                                                    <div class="col-md-6">
                                                                        <label>Posting Date</label>
                                                                        <input id="DocDate" type="date" class="d form-control form-control-sm" placeholder="Posting Date">
                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                    </div>

                                                                </div>


                                                                <div class="form-group row">
                                                                    <div class="col-md-6">
                                                                        <label>Customer Ref. No.</label>
                                                                        <input type="text" id="NumAtCard" class="form-control form-control-sm" placeholder="Ref no.">
                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                    </div>

                                                                    <div class="col-md-6">
                                                                        <label>Valid Until</label>
                                                                        <input id="DocDueDate" type="date" class="d form-control form-control-sm" placeholder="Valid until">
                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group row">


                                                                    <div class="col-md-6">
                                                                        <label>Currency</label>
                                                                        <input id="DocCur" type="text" class="form-control form-control-sm">
                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>Document Date</label>
                                                                        <input id="TaxDate" type="date" class="d form-control form-control-sm" placeholder="Date">
                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="kt-separator kt-separator--space-md kt-separator--border-dashed"></div>



                                                            <ul class="nav nav-tabs nav-tabs-line nav-tabs-bold nav-tabs-line-3x nav-tabs-line-brand" role="tablist">
                                                                <li class="nav-item">
                                                                    <a class="nav-link active" data-toggle="tab" href="#kt_tabs_contents" role="tab">Contents</a>
                                                                </li>
                                                                <li class="nav-item">
                                                                    <a class="nav-link" data-toggle="tab" id="tabAccounting" href="#kt_tabs_acct" role="tab">Accounting</a>
                                                                </li>
                                                                <li class="nav-item">
                                                                    <a class="nav-link" data-toggle="tab" href="#kt_tabs_attachment" role="tab">Attachment</a>
                                                                </li>

                                                            </ul>
                                                            <div class="tab-content">

                                                                <div class="tab-pane active" id="kt_tabs_contents" role="tabpanel">







                                                                    <div class="form-group row col-md-4 mt-3">
                                                                        <label for="staticEmail" class="col-sm-6 col-form-label font-weight-bold"> Item/Service Type</label>
                                                                        <div class="col-sm-6">
                                                                            <select id="ItemServiceType" class="form-control">

                                                                                <option selected value="1">Item</option>
                                                                                <option value="2">Service</option>
                                                                            </select>
                                                                        </div>
                                                                    </div>








                                                                    <div id="kt_tabs_5_1">
                                                                        <table id="kt_repeater_1" style="overflow:auto">
                                                                            <thead class="ScrollThead">
                                                                                <tr>
                                                                                    <th>Item No.</th>
                                                                                    <th>Item Name</th>
                                                                                    <th>Quantity</th>
                                                                                    <th>Unit Price</th>
                                                                                    <th>Discount %</th>
                                                                                    <th>Tax Code</th>
                                                                                    <th>Total (LC)</th>
                                                                                    <th>UMO Code</th>
                                                                                    <th>Country / Region of origin</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody id="ListParameters" data-repeater-list="" class="ScrollTbody">
                                                                                <!-- @*<tr class="rowItemDetail">*@ -->
                                                                                <tr class="rowItemDetail align-items-center itm">
                                                                                    <td>
                                                                                        <div class="input-group">
                                                                                            <input id="ItemCode" type="text" class="form-control form-control-sm" placeholder="Item No." aria-describedby="basic-addon2">
                                                                                            <div id="Itemno" class="input-group-append">
                                                                                                <span class="input-group-text">
                                                                                                    <i class="la la-search"></i>
                                                                                                </span>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input id="ItemName" class="form-control form-control-sm"  type="text">
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input class="form-control form-control-sm" id="QTY"  type="number">
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>

                                                                                    <td>
                                                                                        <input class="form-control form-control-sm" id="UPrc"  type="text">
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input class="form-control form-control-sm" id="DicPrc"  type="number">
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                    <td>

                                                                                         
                                                                                        <select class="form-control vtGroup" id="VatGroup">
                                                                                        
                                                                                        </select>
                                                                       
                                                                   
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                        @*<input class="form-control form-control-sm" id="VatGroup" onkeyup="GetPrice()" type="number">
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>*@
                                                                                    </td>
                                                                                    <td>
                                                                                        <input class="form-control form-control-sm" id="TtlPrc" name="TotalLC" type='number' disabled>
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input class="form-control id=" UmoCode" form-control-sm" id="UomCode">
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <select class="form-control form-control-sm" id="CountryOrg" name="DurationTypeCode">
                                                                                            <option value="0" disabled selected>Select Country</option>
                                                                                            <option value="AF">Afghanistan</option>
                                                                                            <option value="AX">Åland Islands</option>
                                                                                            <option value="AL">Albania</option>
                                                                                            <option value="DZ">Algeria</option>
                                                                                            <option value="AS">American Samoa</option>
                                                                                            <option value="AD">Andorra</option>
                                                                                            <option value="AO">Angola</option>
                                                                                            <option value="AI">Anguilla</option>
                                                                                            <option value="AQ">Antarctica</option>
                                                                                            <option value="AG">Antigua & Barbuda</option>
                                                                                            <option value="AR">Argentina</option>
                                                                                            <option value="AM">Armenia</option>
                                                                                            <option value="AW">Aruba</option>
                                                                                            <option value="AU">Australia</option>
                                                                                            <option value="AT">Austria</option>
                                                                                            <option value="AZ">Azerbaijan</option>
                                                                                            <option value="BS">Bahamas</option>
                                                                                            <option value="BH">Bahrain</option>
                                                                                            <option value="BD">Bangladesh</option>
                                                                                            <option value="BB">Barbados</option>
                                                                                            <option value="BY">Belarus</option>
                                                                                            <option value="BE">Belgium</option>
                                                                                            <option value="BZ">Belize</option>
                                                                                            <option value="BJ">Benin</option>
                                                                                            <option value="BM">Bermuda</option>
                                                                                            <option value="BT">Bhutan</option>
                                                                                            <option value="BO">Bolivia</option>
                                                                                            <option value="BQ">Caribbean Netherlands</option>
                                                                                            <option value="BA">Bosnia & Herzegovina</option>
                                                                                            <option value="BW">Botswana</option>
                                                                                            <option value="BV">Bouvet Island</option>
                                                                                            <option value="BR">Brazil</option>
                                                                                            <option value="IO">British Indian Ocean Territory</option>
                                                                                            <option value="BN">Brunei</option>
                                                                                            <option value="BG">Bulgaria</option>
                                                                                            <option value="BF">Burkina Faso</option>
                                                                                            <option value="BI">Burundi</option>
                                                                                            <option value="KH">Cambodia</option>
                                                                                            <option value="CM">Cameroon</option>
                                                                                            <option value="CA">Canada</option>
                                                                                            <option value="CV">Cape Verde</option>
                                                                                            <option value="KY">Cayman Islands</option>
                                                                                            <option value="CF">Central African Republic</option>
                                                                                            <option value="TD">Chad</option>
                                                                                            <option value="CL">Chile</option>
                                                                                            <option value="CN">China</option>
                                                                                            <option value="CX">Christmas Island</option>
                                                                                            <option value="CC">Cocos (Keeling) Islands</option>
                                                                                            <option value="CO">Colombia</option>
                                                                                            <option value="KM">Comoros</option>
                                                                                            <option value="CG">Congo - Brazzaville</option>
                                                                                            <option value="CD">Congo - Kinshasa</option>
                                                                                            <option value="CK">Cook Islands</option>
                                                                                            <option value="CR">Costa Rica</option>
                                                                                            <option value="CI">Côte d’Ivoire</option>
                                                                                            <option value="HR">Croatia</option>
                                                                                            <option value="CU">Cuba</option>
                                                                                            <option value="CW">Curaçao</option>
                                                                                            <option value="CY">Cyprus</option>
                                                                                            <option value="CZ">Czechia</option>
                                                                                            <option value="DK">Denmark</option>
                                                                                            <option value="DJ">Djibouti</option>
                                                                                            <option value="DM">Dominica</option>
                                                                                            <option value="DO">Dominican Republic</option>
                                                                                            <option value="EC">Ecuador</option>
                                                                                            <option value="EG">Egypt</option>
                                                                                            <option value="SV">El Salvador</option>
                                                                                            <option value="GQ">Equatorial Guinea</option>
                                                                                            <option value="ER">Eritrea</option>
                                                                                            <option value="EE">Estonia</option>
                                                                                            <option value="ET">Ethiopia</option>
                                                                                            <option value="FK">Falkland Islands (Islas Malvinas)</option>
                                                                                            <option value="FO">Faroe Islands</option>
                                                                                            <option value="FJ">Fiji</option>
                                                                                            <option value="FI">Finland</option>
                                                                                            <option value="FR">France</option>
                                                                                            <option value="GF">French Guiana</option>
                                                                                            <option value="PF">French Polynesia</option>
                                                                                            <option value="TF">French Southern Territories</option>
                                                                                            <option value="GA">Gabon</option>
                                                                                            <option value="GM">Gambia</option>
                                                                                            <option value="GE">Georgia</option>
                                                                                            <option value="DE">Germany</option>
                                                                                            <option value="GH">Ghana</option>
                                                                                            <option value="GI">Gibraltar</option>
                                                                                            <option value="GR">Greece</option>
                                                                                            <option value="GL">Greenland</option>
                                                                                            <option value="GD">Grenada</option>
                                                                                            <option value="GP">Guadeloupe</option>
                                                                                            <option value="GU">Guam</option>
                                                                                            <option value="GT">Guatemala</option>
                                                                                            <option value="GG">Guernsey</option>
                                                                                            <option value="GN">Guinea</option>
                                                                                            <option value="GW">Guinea-Bissau</option>
                                                                                            <option value="GY">Guyana</option>
                                                                                            <option value="HT">Haiti</option>
                                                                                            <option value="HM">Heard & McDonald Islands</option>
                                                                                            <option value="VA">Vatican City</option>
                                                                                            <option value="HN">Honduras</option>
                                                                                            <option value="HK">Hong Kong</option>
                                                                                            <option value="HU">Hungary</option>
                                                                                            <option value="IS">Iceland</option>
                                                                                            <option value="IN">India</option>
                                                                                            <option value="ID">Indonesia</option>
                                                                                            <option value="IR">Iran</option>
                                                                                            <option value="IQ">Iraq</option>
                                                                                            <option value="IE">Ireland</option>
                                                                                            <option value="IM">Isle of Man</option>
                                                                                            <option value="IL">Israel</option>
                                                                                            <option value="IT">Italy</option>
                                                                                            <option value="JM">Jamaica</option>
                                                                                            <option value="JP">Japan</option>
                                                                                            <option value="JE">Jersey</option>
                                                                                            <option value="JO">Jordan</option>
                                                                                            <option value="KZ">Kazakhstan</option>
                                                                                            <option value="KE">Kenya</option>
                                                                                            <option value="KI">Kiribati</option>
                                                                                            <option value="KP">North Korea</option>
                                                                                            <option value="KR">South Korea</option>
                                                                                            <option value="XK">Kosovo</option>
                                                                                            <option value="KW">Kuwait</option>
                                                                                            <option value="KG">Kyrgyzstan</option>
                                                                                            <option value="LA">Laos</option>
                                                                                            <option value="LV">Latvia</option>
                                                                                            <option value="LB">Lebanon</option>
                                                                                            <option value="LS">Lesotho</option>
                                                                                            <option value="LR">Liberia</option>
                                                                                            <option value="LY">Libya</option>
                                                                                            <option value="LI">Liechtenstein</option>
                                                                                            <option value="LT">Lithuania</option>
                                                                                            <option value="LU">Luxembourg</option>
                                                                                            <option value="MO">Macao</option>
                                                                                            <option value="MK">North Macedonia</option>
                                                                                            <option value="MG">Madagascar</option>
                                                                                            <option value="MW">Malawi</option>
                                                                                            <option value="MY">Malaysia</option>
                                                                                            <option value="MV">Maldives</option>
                                                                                            <option value="ML">Mali</option>
                                                                                            <option value="MT">Malta</option>
                                                                                            <option value="MH">Marshall Islands</option>
                                                                                            <option value="MQ">Martinique</option>
                                                                                            <option value="MR">Mauritania</option>
                                                                                            <option value="MU">Mauritius</option>
                                                                                            <option value="YT">Mayotte</option>
                                                                                            <option value="MX">Mexico</option>
                                                                                            <option value="FM">Micronesia</option>
                                                                                            <option value="MD">Moldova</option>
                                                                                            <option value="MC">Monaco</option>
                                                                                            <option value="MN">Mongolia</option>
                                                                                            <option value="ME">Montenegro</option>
                                                                                            <option value="MS">Montserrat</option>
                                                                                            <option value="MA">Morocco</option>
                                                                                            <option value="MZ">Mozambique</option>
                                                                                            <option value="MM">Myanmar (Burma)</option>
                                                                                            <option value="NA">Namibia</option>
                                                                                            <option value="NR">Nauru</option>
                                                                                            <option value="NP">Nepal</option>
                                                                                            <option value="NL">Netherlands</option>
                                                                                            <option value="AN">Curaçao</option>
                                                                                            <option value="NC">New Caledonia</option>
                                                                                            <option value="NZ">New Zealand</option>
                                                                                            <option value="NI">Nicaragua</option>
                                                                                            <option value="NE">Niger</option>
                                                                                            <option value="NG">Nigeria</option>
                                                                                            <option value="NU">Niue</option>
                                                                                            <option value="NF">Norfolk Island</option>
                                                                                            <option value="MP">Northern Mariana Islands</option>
                                                                                            <option value="NO">Norway</option>
                                                                                            <option value="OM">Oman</option>
                                                                                            <option value="PK">Pakistan</option>
                                                                                            <option value="PW">Palau</option>
                                                                                            <option value="PS">Palestine</option>
                                                                                            <option value="PA">Panama</option>
                                                                                            <option value="PG">Papua New Guinea</option>
                                                                                            <option value="PY">Paraguay</option>
                                                                                            <option value="PE">Peru</option>
                                                                                            <option value="PH">Philippines</option>
                                                                                            <option value="PN">Pitcairn Islands</option>
                                                                                            <option value="PL">Poland</option>
                                                                                            <option value="PT">Portugal</option>
                                                                                            <option value="PR">Puerto Rico</option>
                                                                                            <option value="QA">Qatar</option>
                                                                                            <option value="RE">Réunion</option>
                                                                                            <option value="RO">Romania</option>
                                                                                            <option value="RU">Russia</option>
                                                                                            <option value="RW">Rwanda</option>
                                                                                            <option value="BL">St. Barthélemy</option>
                                                                                            <option value="SH">St. Helena</option>
                                                                                            <option value="KN">St. Kitts & Nevis</option>
                                                                                            <option value="LC">St. Lucia</option>
                                                                                            <option value="MF">St. Martin</option>
                                                                                            <option value="PM">St. Pierre & Miquelon</option>
                                                                                            <option value="VC">St. Vincent & Grenadines</option>
                                                                                            <option value="WS">Samoa</option>
                                                                                            <option value="SM">San Marino</option>
                                                                                            <option value="ST">São Tomé & Príncipe</option>
                                                                                            <option value="SA">Saudi Arabia</option>
                                                                                            <option value="SN">Senegal</option>
                                                                                            <option value="RS">Serbia</option>
                                                                                            <option value="CS">Serbia</option>
                                                                                            <option value="SC">Seychelles</option>
                                                                                            <option value="SL">Sierra Leone</option>
                                                                                            <option value="SG">Singapore</option>
                                                                                            <option value="SX">Sint Maarten</option>
                                                                                            <option value="SK">Slovakia</option>
                                                                                            <option value="SI">Slovenia</option>
                                                                                            <option value="SB">Solomon Islands</option>
                                                                                            <option value="SO">Somalia</option>
                                                                                            <option value="ZA">South Africa</option>
                                                                                            <option value="GS">South Georgia & South Sandwich Islands</option>
                                                                                            <option value="SS">South Sudan</option>
                                                                                            <option value="ES">Spain</option>
                                                                                            <option value="LK">Sri Lanka</option>
                                                                                            <option value="SD">Sudan</option>
                                                                                            <option value="SR">Suriname</option>
                                                                                            <option value="SJ">Svalbard & Jan Mayen</option>
                                                                                            <option value="SZ">Eswatini</option>
                                                                                            <option value="SE">Sweden</option>
                                                                                            <option value="CH">Switzerland</option>
                                                                                            <option value="SY">Syria</option>
                                                                                            <option value="TW">Taiwan</option>
                                                                                            <option value="TJ">Tajikistan</option>
                                                                                            <option value="TZ">Tanzania</option>
                                                                                            <option value="TH">Thailand</option>
                                                                                            <option value="TL">Timor-Leste</option>
                                                                                            <option value="TG">Togo</option>
                                                                                            <option value="TK">Tokelau</option>
                                                                                            <option value="TO">Tonga</option>
                                                                                            <option value="TT">Trinidad & Tobago</option>
                                                                                            <option value="TN">Tunisia</option>
                                                                                            <option value="TR">Turkey</option>
                                                                                            <option value="TM">Turkmenistan</option>
                                                                                            <option value="TC">Turks & Caicos Islands</option>
                                                                                            <option value="TV">Tuvalu</option>
                                                                                            <option value="UG">Uganda</option>
                                                                                            <option value="UA">Ukraine</option>
                                                                                            <option value="AE">United Arab Emirates</option>
                                                                                            <option value="GB">United Kingdom</option>
                                                                                            <option value="US">United States</option>
                                                                                            <option value="UM">U.S. Outlying Islands</option>
                                                                                            <option value="UY">Uruguay</option>
                                                                                            <option value="UZ">Uzbekistan</option>
                                                                                            <option value="VU">Vanuatu</option>
                                                                                            <option value="VE">Venezuela</option>
                                                                                            <option value="VN">Vietnam</option>
                                                                                            <option value="VG">British Virgin Islands</option>
                                                                                            <option value="VI">U.S. Virgin Islands</option>
                                                                                            <option value="WF">Wallis & Futuna</option>
                                                                                            <option value="EH">Western Sahara</option>
                                                                                            <option value="YE">Yemen</option>
                                                                                            <option value="ZM">Zambia</option>
                                                                                            <option value="ZW">Zimbabwe</option>
                                                                                        </select>
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                        <div style="margin-top:1%" class="form-group form-group-last row">
                                                                            <div class="col-md-6">
                                                                                <button type="button" id="ListBtnAddd" data-repeater-create="" class="btn btn-light-primary font-weight-bold btn-sm">
                                                                                    <i class="la la-plus"></i> Add
                                                                                </button>
                                                                            </div>
                                                                        </div>

                                                                    </div>
                                                                    <div class="d-none" id="kt_tabs_5_2">
                                                                        <table id="kt_repeater_2" style="overflow:auto">
                                                                            <thead class="ScrollThead2">
                                                                                <tr>
                                                                                    <th>Description</th>
                                                                                    <th>Gl Account</th>
                                                                                    <th>Gl Account Name</th>
                                                                                    <th>Tax Code</th>
                                                                                    <th>Total LC</th>
                                                                                    <th>Blanket Agreement No.</th>

                                                                                    <!-- @*<th>Supplier </th>
                                                                                        <th>Lot Number</th>
                                                                                        <th>GSM</th>*@ -->
                                                                                    <th></th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody id="ListParameters2" data-repeater-list="" class="ScrollTbody2">
                                                                                <tr class="rowItemDetail align-items-center itm">

                                                                                    <td>
                                                                                        <input id="Dscription" class="form-control form-control-sm">
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <div class="input-group">
                                                                                            <input type="text" id="AcctCode" class="form-control form-control-sm" placeholder="GL Account" aria-describedby="basic-addon2">
                                                                                            <div id="GLAccountNo" class="input-group-append">
                                                                                                <span class="input-group-text">
                                                                                                    <i class="la la-search"></i>
                                                                                                </span>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input id="AcctName" class="form-control form-control-sm">
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <select class="form-control" id="VatGroup2">
                                                                                        </select>

                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input class="form-control form-control-sm" id="TotalLC">
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input class="form-control form-control-sm" id="BlanketAgreementNo">
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                        <div style="margin-top:1%" class="form-group form-group-last row">
                                                                            <div class="col-md-6">
                                                                                <button type="button" id="ListBtnAddRM" data-repeater-create="" class="btn btn-light-primary font-weight-bold btn-sm">
                                                                                    <i class="la la-plus"></i> Add
                                                                                </button>

                                                                                <!-- <button type="button" class="btn btn-light-primary font-weight-bold btn-sm">Setup login verification</button> -->


                                                                            </div>
                                                                        </div>

                                                                    </div>

                                                                </div>

                                                                <div class="tab-pane" id="kt_tabs_acct" role="tabpanel">


                                                                    <div class="form-group row col-md-4 mt-3">
                                                                        <label for="staticEmail" class="col-sm-6 col-form-label font-weight-bold">Payment Terms</label>
                                                                        <div class="col-sm-6">
                                                                            <select class="form-control" id="GroupNum">
                                                                            </select>
                                                                        </div>
                                                                    </div>





                                                                </div>

                                                                <div class="tab-pane" id="kt_tabs_attachment" role="tabpanel">




                                                                    <table id="kt_repeater_3" style="overflow:auto">
                                                                        <thead class="ScrollThead2">
                                                                            <tr>
                                                                                <th>TargetPath</th>
                                                                                <th>FileName</th>
                                                                                <th>AttachmentDate</th>
                                                                                <th></th>
                                                                                <th></th>   
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody id="ListParameters3" data-repeater-list="" class="ScrollTbody2">
                                                                            <tr class="rowItemDetail align-items-center itm">

                                                                                <td>
                                                                                    <input readonly type="file" id="selectedFile" class="position-absolute d-none form-control form-control-sm">
                                                                                    <input id="selectedFilePath" class="form-control form-control-sm">
                                                                                    <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                </td>
                                                                                <td>
                                                                                    <input readonly id="selectedFileName" class="form-control form-control-sm">
                                                                                    <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                </td>
                                                                                <td>
                                                                                    <input readonly id="selectedFileDate" type="date" class="form-control form-control-sm">
                                                                                    <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                </td>
                                                                                <td>
                                                                                    <button id="btnbrowseFile" type="button" class="btn btn-light-primary font-weight-bold btn-sm"> <i class="la la-plus"></i> Browse </button>

                                                                                </td>


                                                                            </tr>
                                                                        </tbody>
                                                                    </table>

                                                                     <div style="margin-top:1%" class="form-group form-group-last row">
                                                                            <div class="col-md-6">
                                                                                <button type="button" id="ListBtnAddFile" data-repeater-create="" class="btn btn-light-primary font-weight-bold btn-sm">
                                                                                    <i class="la la-plus"></i> Add
                                                                                </button>

                                                                                <!-- <button type="button" class="btn btn-light-primary font-weight-bold btn-sm">Setup login verification</button> -->


                                                                            </div>
                                                                        </div>





                                                                </div>

                                                            </div>
                                                        </div>




                                                        <div class="container" id="FooterData">
                                                            <br />
                                                            <br />
                                                            <div class="row">
                                                                <div class="col-md-6">
                                                                    <label for="" class="form-label" >Sales Employee</label>
                                                                    <select id="SlpCode" asp-items="@ViewBag.SalesEmployee" class="form-control form-control-sm">
                                                                    </select>
                                                                </div>

                                                                <div class="col-md-6">
                                                                    <label for="inputEmail4" class="form-label">Total Before Discount</label>
                                                                    <input name="TotalBeforeDiscount" readonly type="text" class="form-control" id="TotalBeforeDiscount">

                                                                </div>

                                                            </div>
                                                            <br />
                                                            <div class="row">
                                                                <div class="col-md-6">
                                                                    <label  for="inputPassword4" class="form-label">Owner</label>
                                                                    <input name="OwnerCode" type="text" class="form-control" id="OwnerCode">

                                                                </div>


                                                                <div class="col-md-6">
                                                                    <label for="inputEmail4" class="form-label">Discount</label>
                                                                    <!-- @*@Html.EditorFor(m => m.OQUT_obj.DiscPrcnt, new { htmlAttributes = new { @class = "form-control", type = "number" } })*@ -->
                                                                    <input name="Discount" type="number" class="form-control" id="Discount">

                                                                </div>

                                                            </div>
                                                            </br>
                                                            <div class="row">


                                                                <div class="col-md-6">
                                                                    <div class="form-check">
                                                                        <input class="form-check-input" type="checkbox" value="" id="RoundingChkBox">
                                                                        <label class="form-check-label" for="flexCheckDefault">
                                                                            Rounding
                                                                        </label>
                                                                    </div>
                                                                    <!-- @*  @Html.EditorFor(m => m.OQUT_obj.Rounding, new { htmlAttributes = new { @class = "form-control", type = "number" } })*@ -->
                                                                    <input type="number" class="form-control " readonly id="Rounding">

                                                                </div>

                                                                <div class="col-md-6">
                                                                    <label for="inputEmail4" class="form-label" id="">Tax</label>
                                                                    <input name="Tax" type="text" class="form-control" id="Tax">

                                                                </div>
                                                            </div>
                                                            <br />
                                                            <div class="row">


                                                                <div class="col-md-6">
                                                                    <label for="inputEmail4" class="form-label">Total</label>
                                                                    <input name="Total" type="text" class="form-control" id="Total">
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label for="inputRemarks" class="form-label">Remarks</label>

                                                                    <!-- @*<textarea class = "form-control" rows="3" asp-for="OQUT_obj.Comments"></textarea>*@ -->
                                                                    <textarea id="Comments" class="form-control" rows="3"></textarea>



                                                                    <!-- @*<textarea name="Comments" class="form-control" id="inputRemarks" rows="3"></textarea>*@ -->

                                                                </div>
                                                            </div>
                                                            <hr />
                                                        </div>






                                                    </div>

                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                                <!--end::Portlet-->
                            </div>
                        </div>
                    </div>







                    <div class="modal fade" id="DefectPic" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" style="display: none;">
                        <div class="modal-dialog modal-lg" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">Defect Pic</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <img style="width:765px" id="DefecPicUrl" src="">
                                </div>

                            </div>
                        </div>
                    </div>





                </form>
                <!--end::Form-->
            </div>
        </div>
        <!--end::Card-->

    </div>
    <!--end::Entry-->
</div>
<!-- Render Body <End> -->
<script src="~/Assets/plugins/global/plugins.bundle.js"></script>
<script src="~/Assets/plugins/custom/prismjs/prismjs.bundle.js"></script>
<script src="~/Assets/js/scripts.bundle.js"></script>




<!-- Item Modal -->
@*<button type="button" style="display:none;" id="myItembtn" data-toggle="modal" data-target="#myModal"></button>

<partial name="~/Views/Shared/_ItemModal.cshtml" model='ViewData["ItemList"]'/>
 *@
<!-- Modal End -->
<!-- Customer Modal -->
@*<button type="button" style="display:none;" id="myCustomerbtn" data-toggle="modal" data-target="#myCustModal"></button>

<partial name="~/Views/Shared/_CustomerModal.cshtml" model='ViewData["CustomerList"]'/>
 *@
<!-- Modal End -->
<!-- Account Modal -->
@*<button type="button" style="display:none;" id="myAccountbtn" data-toggle="modal" data-target="#myaccountModal"></button>

<partial name="~/Views/Shared/_AccountModal.cshtml" model='ViewData["AccountList"]' />
 *@
<!-- Modal End -->

<script>
    var vatGroupData = "";
    var ItemServiceType = '1';
    const boxes = document.querySelectorAll('.d');

    for (const box of boxes) {
        box.value = new Date().toJSON().slice(0, 10);
    }

    
    
    $(document).on('click', '#GLAccountNo', function (e) {

        ObjAcctCode = $(this).closest('tr').find("#AcctCode");
        //var GLAccount = $(this).closest('#ListParameters2 .itm').find('#GLAccountNo');
        generateAccountTable();
        $('#myaccountModal').modal('show');
        console.log("Clickeddd")

    });
    $(document).on('click', '#tabAccounting', function (e) {

        $.get("SaleQuotation/GetPayments", function (data) 
        {
            $("#GroupNum").html("");
            $.each(data, function () {

                $("#GroupNum").append($("<option />").val(this.groupNum).text(this.pymntGroup));
            });

        });

    });
    $(document).on('click', '#btnbrowseFile', function (e) {

        console.log("brow");
        let selectedrow = $(this).closest('tr');
        var input = selectedrow.find("#selectedFile");

        input.click();
        //debugger
        input.change(function () {
            var SelectedFile = input.val()
            selectedrow.find("#selectedFileDate").val(new Date().toJSON().slice(0, 10));
            selectedrow.find("#selectedFilePath").val(SelectedFile);
            selectedrow.find("#selectedFileName").val(SelectedFile.replace(/^.*[\\\/]/, ''));

           // AddRowInFileTable();

        });


        //$(ObjItemCode)
    });
    $(document).on('change', '#ItemServiceType', function (e) 
    {
        var val = $("#ItemServiceType option:selected").val();
        var value = $('#ItemServiceType').val();
        ItemServiceType = value;
        if (value == '1') {

            
            const srs = document.querySelectorAll('#kt_tabs_5_2 #ListParameters2 .itm');
            
             for (const s of srs) { 
                    s.remove();
                 
                }
                
                append_ServiceFirstRow();

            //$("#kt_tabs_5_2 #ListParameters2 .2nd_Services").remove();

            $("#kt_tabs_5_1").removeClass("d-none");
            $("#kt_tabs_5_2").addClass("d-none");

        } else if (value == '2') {
             const its = document.querySelectorAll('#kt_tabs_5_1 #ListParameters .itm');
            
             for (const i of its) { 
                   i.remove();
                 
                }

           append_ItemFirstRow();


            $("#kt_tabs_5_1").addClass("d-none");
            $("#kt_tabs_5_2").removeClass("d-none");
        }
    });

    function append_ServiceFirstRow(){

           var html = ` <tr class="rowItemDetail align-items-center itm">

                                                                                    <td>
                                                                                        <input id="Dscription" class="form-control form-control-sm">
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <div class="input-group">
                                                                                            <input type="text" id="AcctCode" class="form-control form-control-sm" placeholder="GL Account" aria-describedby="basic-addon2">
                                                                                            <div id="GLAccountNo" class="input-group-append">
                                                                                                <span class="input-group-text">
                                                                                                    <i class="la la-search"></i>
                                                                                                </span>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input id="AcctName" class="form-control form-control-sm">
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <select  class="form-control" id="VatGroup2" >
                                                                                       `+vatGroupData+`
                                                                                        </select> 
                                                                                        
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input class="form-control form-control-sm" id="TotalLC">
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input class="form-control form-control-sm" id="BlanketAgreementNo">
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                      
                                                                                </tr>`;

        $('#kt_repeater_2 tbody').append(html);
        //addDataInVatGroup();
    }

    function append_ItemFirstRow(){
        
              var html = `   <tr class="rowItemDetail align-items-center itm">
                                                                      <td>
    <div class="input-group">
        <input  id="ItemCode"  type="text" class="form-control form-control-sm" placeholder="Item No." aria-describedby="basic-addon2">
    <div id="Itemno" class="input-group-append">
    <span  class="input-group-text">
    <i class="la la-search"></i>
    </span>
    </div>
    </div>
    <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
    </td>
                                                                        <td>
                                                                            <input class="form-control form-control-sm" id="ItemName" type = "text">
                                                                            <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                        </td>
                                                                        <td>
                                                                            <input class="form-control form-control-sm" id = "QTY" onkeyup = "GetPrice()" type = "number">
                                                                            <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                        </td>

                                                                        <td>
                                                                            <input class="form-control form-control-sm" id = "UPrc" onkeyup = "GetPrice()" type = "text" >
                                                                            <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                        </td>
                                                                        <td>
                                                                            <input class="form-control form-control-sm"  id = "DicPrc"  onkeyup = "GetPrice()" type = "number">
                                                                            <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                        </td>
                                                                                                                <td>

                                                                                             <select  class="form-control" id="VatGroup" >
                                                                                       `+vatGroupData+`
                                                                                        </select>                                                                                                                                        
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>                                                                                       
                                                                                    </td>
                                                                        <td>
                                                                            <input class="form-control form-control-sm" id="TtlPrc" name="TotalLC" type='number' disabled >
                                                                            <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                        </td>
                                                                        <td>
                                                                            <input class="form-control form-control-sm" >
                                                                            <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                        </td>
                                                                        <td>
                                                                            <select class="form-control form-control-sm" id="country" name="DurationTypeCode">
                                                                            <option value="0" disabled selected>Select Country</option>
                                                                            <option value="AF">Afghanistan</option>
                                                                            <option value="AX">Åland Islands</option>
                                                                            <option value="AL">Albania</option>
                                                                            <option value="DZ">Algeria</option>
                                                                            <option value="AS">American Samoa</option>
                                                                            <option value="AD">Andorra</option>
                                                                            <option value="AO">Angola</option>
                                                                            <option value="AI">Anguilla</option>
                                                                            <option value="AQ">Antarctica</option>
                                                                            <option value="AG">Antigua & Barbuda</option>
                                                                            <option value="AR">Argentina</option>
                                                                            <option value="AM">Armenia</option>
                                                                            <option value="AW">Aruba</option>
                                                                            <option value="AU">Australia</option>
                                                                            <option value="AT">Austria</option>
                                                                            <option value="AZ">Azerbaijan</option>
                                                                            <option value="BS">Bahamas</option>
                                                                            <option value="BH">Bahrain</option>
                                                                            <option value="BD">Bangladesh</option>
                                                                            <option value="BB">Barbados</option>
                                                                            <option value="BY">Belarus</option>
                                                                            <option value="BE">Belgium</option>
                                                                            <option value="BZ">Belize</option>
                                                                            <option value="BJ">Benin</option>
                                                                            <option value="BM">Bermuda</option>
                                                                            <option value="BT">Bhutan</option>
                                                                            <option value="BO">Bolivia</option>
                                                                            <option value="BQ">Caribbean Netherlands</option>
                                                                            <option value="BA">Bosnia & Herzegovina</option>
                                                                            <option value="BW">Botswana</option>
                                                                            <option value="BV">Bouvet Island</option>
                                                                            <option value="BR">Brazil</option>
                                                                            <option value="IO">British Indian Ocean Territory</option>
                                                                            <option value="BN">Brunei</option>
                                                                            <option value="BG">Bulgaria</option>
                                                                            <option value="BF">Burkina Faso</option>
                                                                            <option value="BI">Burundi</option>
                                                                            <option value="KH">Cambodia</option>
                                                                            <option value="CM">Cameroon</option>
                                                                            <option value="CA">Canada</option>
                                                                            <option value="CV">Cape Verde</option>
                                                                            <option value="KY">Cayman Islands</option>
                                                                            <option value="CF">Central African Republic</option>
                                                                            <option value="TD">Chad</option>
                                                                            <option value="CL">Chile</option>
                                                                            <option value="CN">China</option>
                                                                            <option value="CX">Christmas Island</option>
                                                                            <option value="CC">Cocos (Keeling) Islands</option>
                                                                            <option value="CO">Colombia</option>
                                                                            <option value="KM">Comoros</option>
                                                                            <option value="CG">Congo - Brazzaville</option>
                                                                            <option value="CD">Congo - Kinshasa</option>
                                                                            <option value="CK">Cook Islands</option>
                                                                            <option value="CR">Costa Rica</option>
                                                                            <option value="CI">Côte d’Ivoire</option>
                                                                            <option value="HR">Croatia</option>
                                                                            <option value="CU">Cuba</option>
                                                                            <option value="CW">Curaçao</option>
                                                                            <option value="CY">Cyprus</option>
                                                                            <option value="CZ">Czechia</option>
                                                                            <option value="DK">Denmark</option>
                                                                            <option value="DJ">Djibouti</option>
                                                                            <option value="DM">Dominica</option>
                                                                            <option value="DO">Dominican Republic</option>
                                                                            <option value="EC">Ecuador</option>
                                                                            <option value="EG">Egypt</option>
                                                                            <option value="SV">El Salvador</option>
                                                                            <option value="GQ">Equatorial Guinea</option>
                                                                            <option value="ER">Eritrea</option>
                                                                            <option value="EE">Estonia</option>
                                                                            <option value="ET">Ethiopia</option>
                                                                            <option value="FK">Falkland Islands (Islas Malvinas)</option>
                                                                            <option value="FO">Faroe Islands</option>
                                                                            <option value="FJ">Fiji</option>
                                                                            <option value="FI">Finland</option>
                                                                            <option value="FR">France</option>
                                                                            <option value="GF">French Guiana</option>
                                                                            <option value="PF">French Polynesia</option>
                                                                            <option value="TF">French Southern Territories</option>
                                                                            <option value="GA">Gabon</option>
                                                                            <option value="GM">Gambia</option>
                                                                            <option value="GE">Georgia</option>
                                                                            <option value="DE">Germany</option>
                                                                            <option value="GH">Ghana</option>
                                                                            <option value="GI">Gibraltar</option>
                                                                            <option value="GR">Greece</option>
                                                                            <option value="GL">Greenland</option>
                                                                            <option value="GD">Grenada</option>
                                                                            <option value="GP">Guadeloupe</option>
                                                                            <option value="GU">Guam</option>
                                                                            <option value="GT">Guatemala</option>
                                                                            <option value="GG">Guernsey</option>
                                                                            <option value="GN">Guinea</option>
                                                                            <option value="GW">Guinea-Bissau</option>
                                                                            <option value="GY">Guyana</option>
                                                                            <option value="HT">Haiti</option>
                                                                            <option value="HM">Heard & McDonald Islands</option>
                                                                            <option value="VA">Vatican City</option>
                                                                            <option value="HN">Honduras</option>
                                                                            <option value="HK">Hong Kong</option>
                                                                            <option value="HU">Hungary</option>
                                                                            <option value="IS">Iceland</option>
                                                                            <option value="IN">India</option>
                                                                            <option value="ID">Indonesia</option>
                                                                            <option value="IR">Iran</option>
                                                                            <option value="IQ">Iraq</option>
                                                                            <option value="IE">Ireland</option>
                                                                            <option value="IM">Isle of Man</option>
                                                                            <option value="IL">Israel</option>
                                                                            <option value="IT">Italy</option>
                                                                            <option value="JM">Jamaica</option>
                                                                            <option value="JP">Japan</option>
                                                                            <option value="JE">Jersey</option>
                                                                            <option value="JO">Jordan</option>
                                                                            <option value="KZ">Kazakhstan</option>
                                                                            <option value="KE">Kenya</option>
                                                                            <option value="KI">Kiribati</option>
                                                                            <option value="KP">North Korea</option>
                                                                            <option value="KR">South Korea</option>
                                                                            <option value="XK">Kosovo</option>
                                                                            <option value="KW">Kuwait</option>
                                                                            <option value="KG">Kyrgyzstan</option>
                                                                            <option value="LA">Laos</option>
                                                                            <option value="LV">Latvia</option>
                                                                            <option value="LB">Lebanon</option>
                                                                            <option value="LS">Lesotho</option>
                                                                            <option value="LR">Liberia</option>
                                                                            <option value="LY">Libya</option>
                                                                            <option value="LI">Liechtenstein</option>
                                                                            <option value="LT">Lithuania</option>
                                                                            <option value="LU">Luxembourg</option>
                                                                            <option value="MO">Macao</option>
                                                                            <option value="MK">North Macedonia</option>
                                                                            <option value="MG">Madagascar</option>
                                                                            <option value="MW">Malawi</option>
                                                                            <option value="MY">Malaysia</option>
                                                                            <option value="MV">Maldives</option>
                                                                            <option value="ML">Mali</option>
                                                                            <option value="MT">Malta</option>
                                                                            <option value="MH">Marshall Islands</option>
                                                                            <option value="MQ">Martinique</option>
                                                                            <option value="MR">Mauritania</option>
                                                                            <option value="MU">Mauritius</option>
                                                                            <option value="YT">Mayotte</option>
                                                                            <option value="MX">Mexico</option>
                                                                            <option value="FM">Micronesia</option>
                                                                            <option value="MD">Moldova</option>
                                                                            <option value="MC">Monaco</option>
                                                                            <option value="MN">Mongolia</option>
                                                                            <option value="ME">Montenegro</option>
                                                                            <option value="MS">Montserrat</option>
                                                                            <option value="MA">Morocco</option>
                                                                            <option value="MZ">Mozambique</option>
                                                                            <option value="MM">Myanmar (Burma)</option>
                                                                            <option value="NA">Namibia</option>
                                                                            <option value="NR">Nauru</option>
                                                                            <option value="NP">Nepal</option>
                                                                            <option value="NL">Netherlands</option>
                                                                            <option value="AN">Curaçao</option>
                                                                            <option value="NC">New Caledonia</option>
                                                                            <option value="NZ">New Zealand</option>
                                                                            <option value="NI">Nicaragua</option>
                                                                            <option value="NE">Niger</option>
                                                                            <option value="NG">Nigeria</option>
                                                                            <option value="NU">Niue</option>
                                                                            <option value="NF">Norfolk Island</option>
                                                                            <option value="MP">Northern Mariana Islands</option>
                                                                            <option value="NO">Norway</option>
                                                                            <option value="OM">Oman</option>
                                                                            <option value="PK">Pakistan</option>
                                                                            <option value="PW">Palau</option>
                                                                            <option value="PS">Palestine</option>
                                                                            <option value="PA">Panama</option>
                                                                            <option value="PG">Papua New Guinea</option>
                                                                            <option value="PY">Paraguay</option>
                                                                            <option value="PE">Peru</option>
                                                                            <option value="PH">Philippines</option>
                                                                            <option value="PN">Pitcairn Islands</option>
                                                                            <option value="PL">Poland</option>
                                                                            <option value="PT">Portugal</option>
                                                                            <option value="PR">Puerto Rico</option>
                                                                            <option value="QA">Qatar</option>
                                                                            <option value="RE">Réunion</option>
                                                                            <option value="RO">Romania</option>
                                                                            <option value="RU">Russia</option>
                                                                            <option value="RW">Rwanda</option>
                                                                            <option value="BL">St. Barthélemy</option>
                                                                            <option value="SH">St. Helena</option>
                                                                            <option value="KN">St. Kitts & Nevis</option>
                                                                            <option value="LC">St. Lucia</option>
                                                                            <option value="MF">St. Martin</option>
                                                                            <option value="PM">St. Pierre & Miquelon</option>
                                                                            <option value="VC">St. Vincent & Grenadines</option>
                                                                            <option value="WS">Samoa</option>
                                                                            <option value="SM">San Marino</option>
                                                                            <option value="ST">São Tomé & Príncipe</option>
                                                                            <option value="SA">Saudi Arabia</option>
                                                                            <option value="SN">Senegal</option>
                                                                            <option value="RS">Serbia</option>
                                                                            <option value="CS">Serbia</option>
                                                                            <option value="SC">Seychelles</option>
                                                                            <option value="SL">Sierra Leone</option>
                                                                            <option value="SG">Singapore</option>
                                                                            <option value="SX">Sint Maarten</option>
                                                                            <option value="SK">Slovakia</option>
                                                                            <option value="SI">Slovenia</option>
                                                                            <option value="SB">Solomon Islands</option>
                                                                            <option value="SO">Somalia</option>
                                                                            <option value="ZA">South Africa</option>
                                                                            <option value="GS">South Georgia & South Sandwich Islands</option>
                                                                            <option value="SS">South Sudan</option>
                                                                            <option value="ES">Spain</option>
                                                                            <option value="LK">Sri Lanka</option>
                                                                            <option value="SD">Sudan</option>
                                                                            <option value="SR">Suriname</option>
                                                                            <option value="SJ">Svalbard & Jan Mayen</option>
                                                                            <option value="SZ">Eswatini</option>
                                                                            <option value="SE">Sweden</option>
                                                                            <option value="CH">Switzerland</option>
                                                                            <option value="SY">Syria</option>
                                                                            <option value="TW">Taiwan</option>
                                                                            <option value="TJ">Tajikistan</option>
                                                                            <option value="TZ">Tanzania</option>
                                                                            <option value="TH">Thailand</option>
                                                                            <option value="TL">Timor-Leste</option>
                                                                            <option value="TG">Togo</option>
                                                                            <option value="TK">Tokelau</option>
                                                                            <option value="TO">Tonga</option>
                                                                            <option value="TT">Trinidad & Tobago</option>
                                                                            <option value="TN">Tunisia</option>
                                                                            <option value="TR">Turkey</option>
                                                                            <option value="TM">Turkmenistan</option>
                                                                            <option value="TC">Turks & Caicos Islands</option>
                                                                            <option value="TV">Tuvalu</option>
                                                                            <option value="UG">Uganda</option>
                                                                            <option value="UA">Ukraine</option>
                                                                            <option value="AE">United Arab Emirates</option>
                                                                            <option value="GB">United Kingdom</option>
                                                                            <option value="US">United States</option>
                                                                            <option value="UM">U.S. Outlying Islands</option>
                                                                            <option value="UY">Uruguay</option>
                                                                            <option value="UZ">Uzbekistan</option>
                                                                            <option value="VU">Vanuatu</option>
                                                                            <option value="VE">Venezuela</option>
                                                                            <option value="VN">Vietnam</option>
                                                                            <option value="VG">British Virgin Islands</option>
                                                                            <option value="VI">U.S. Virgin Islands</option>
                                                                            <option value="WF">Wallis & Futuna</option>
                                                                            <option value="EH">Western Sahara</option>
                                                                            <option value="YE">Yemen</option>
                                                                            <option value="ZM">Zambia</option>
                                                                            <option value="ZW">Zimbabwe</option>
                                                                            </select>
                                                                            <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                        </td>
 
                                                                       </tr>`;
        $('#kt_repeater_1 tbody').append(html);
       // addDataInVatGroup();
    }




    function GetVatGroupData() 
    {
        $.get("SaleQuotation/GetVatGroupData", function (data) 
        {
           vatGroupData = data;
          // addDataInVatGroup();
            $("#VatGroup").html("");
            $("#VatGroup2").html("");
            $.each(data, function () {

                $("#VatGroup").append($("<option />").val(this.rate).text(this.vatName));
                $("#VatGroup2").append($("<option />").val(this.rate).text(this.vatName));
                vatGroupData = vatGroupData + "<option value="+this.rate +">"+this.vatName +"</option>";
            });
            //$("#VatGroup").select2();
            //$("#VatGroup2").select2();

        });
    }
    
    $(document).on('click', '#Itemno', function (e) {
        IsHeader = false;
        ObjItemCode = $(this).closest('tr').find("#ItemCode");
        generateItemTable();
        $('#myItemModal').modal('show');

    });


    $(document).on('click', '#CustomerNo', function (e) {
        ObjCardCode = $(this);

        generateCustomerTable();
        $('#myCustModal').modal('show');

    });
   

    $(document).on('change keyup', '#QTY,#UPrc,#DicPrc,#Rounding,#Discount,#VatGroup', function (e) {

        var Qty = $(this).closest('#ListParameters .itm').find('#QTY');
        var UPrc = $(this).closest('#ListParameters .itm').find('#UPrc');
        var DicPrc = $(this).closest('#ListParameters .itm').find('#DicPrc');
        var TtlPrc = $(this).closest('#ListParameters .itm').find('#TtlPrc');
        var VatGroup = $(this).closest('#ListParameters .itm').find('#VatGroup');


        if ($(DicPrc).val() == "") {
            var Onepercent = parseFloat($(TtlPrc).val() / 100);
            var Tax = parseFloat(Onepercent * $(VatGroup).val())
            if (($(QTY).val() != null && $(UPrc).val() != null) || ($(QTY).val() != "" && $(UPrc).val() != "")) {
                $(TtlPrc).val((((parseFloat($(Qty).val()) * parseFloat($(UPrc).val())) + parseFloat(Tax)).toFixed(2)));
                GetPrice();
                //document.getElementById("TtlPrc").value = parseFloat(TtlPrc).toFixed(2);
                //console.log(TtlPrc)
            }
        }

        if (DicPrc != "") {
            $(TtlPrc).val((parseFloat($(Qty).val()) * parseFloat($(UPrc).val())).toFixed(2));
            var Onepercent = parseFloat($(TtlPrc).val() / 100);
            var discountPrice = parseFloat(Onepercent * $(DicPrc).val());
            var Tax = parseFloat(Onepercent * $(VatGroup).val())
            console.log("discountPrice:", discountPrice)
            if (($(QTY).val() != null && $(UPrc).val() != null) || ($(QTY).val() != "" && $(UPrc).val() != "")) {
                $(TtlPrc).val((((parseFloat($(Qty).val()) * parseFloat($(UPrc).val())) - (parseFloat(discountPrice))) + (Tax)).toFixed(2));
                GetPrice();
                //document.getElementById("TtlPrc").value = parseFloat(TtlPrc).toFixed(2);
                //console.log(Tax)
            }
        }

    });
    
    $(document).on('click', '#RoundingChkBox', function (e) 
    {

       if($(this).is(":checked"))
      {
        $('#Rounding').removeAttr('readonly', 'readonly');
      }
      else
        {
         $('#Rounding').attr('readonly', 'readonly');
        }
    });

  
function GetPrice() 
{

    $("#Total").val( 0 );
    var totalBeforeDiscount = 0;
    var RoundingValue = 0;
    var Discount = parseFloat($("#Discount").val()/100 );
    $('#ListParameters .itm').each(function (index, item) 
    {
            var dt1 = $(this).closest('#ListParameters .itm').find("#TtlPrc");
           if(dt1.val() != null)
            totalBeforeDiscount = Number(totalBeforeDiscount) + Number(dt1.val());
    })
    if(totalBeforeDiscount != 0)
    $("#TotalBeforeDiscount").val(totalBeforeDiscount);

     if($('#RoundingChkBox').is(":checked"))
      {
          
         
         RoundingValue = parseFloat($('#Rounding').val());
       
      }
    if(Discount != "" && RoundingValue != "")
    {
     
        $("#Total").val( totalBeforeDiscount - ((totalBeforeDiscount  + RoundingValue ) * Discount ));

    }
    else if(Discount == "" && RoundingValue != "" ) 
    {  
        $("#Total").val( ( totalBeforeDiscount  + RoundingValue ) );
    }
    else if(Discount != "" && RoundingValue == "" ) 
    {
   
        $("#Total").val( parseFloat(totalBeforeDiscount - (totalBeforeDiscount * Discount) ));
    }
    else if(Discount == "" && RoundingValue == "" ) 
    {
      
        $("#Total").val( totalBeforeDiscount );
    }

}

    
    var DOMStatus = '';
    var formid = '';
    var Guid = '';
    var ListValueType;
    var ListDurationType;
    var ListValueMethod;
    var ListParameter;
    var ListItemCodes;
    var isDuplicate = false;
    
    $(document).ready(function () {

        
        GetVatGroupData();
        var date = new Date;
        $('#DocDate').val(moment(date).format('YYYY-MM-DD'));
        Guid = $("#Guid").val();
        $('#IncrementalDuration').prop('checked', true);
        DocNumOnLoad();
        GetLisParameters();
        GetListDurationType();
        GetListValueType();
        GetListValueMethod();
        GetLisRmCodes();
    

        if (Guid != undefined && Guid != '' && Guid != null) {
            PopulateData();
        }

        $(document).on('change', '#ParamCode', function (e) {

            $(this).removeClass('is-invalid');
        });

        $(document).on('change', '#ValueTypeCode', function (e) {
            debugger
            $(this).removeClass('is-invalid');
            $(this).closest('#ListParameters .itm').find("#StandardValue").removeClass('is-invalid');
            $(this).closest('#ListParameters .itm').find("#MinValue").removeClass('is-invalid');
            $(this).closest('#ListParameters .itm').find("#MaxValue").removeClass('is-invalid');
            $(this).closest('#ListParameters .itm').find("#StandardValue").val('');
            $(this).closest('#ListParameters .itm').find("#MinValue").val('');
            $(this).closest('#ListParameters .itm').find("#MaxValue").val('');

            if ($(this).val() == "PM") {
                $(this).closest('#ListParameters .itm').find("#StandardValue").attr('disabled', false);
                $(this).closest('#ListParameters .itm').find("#MinValue").attr('disabled', false);
                $(this).closest('#ListParameters .itm').find("#MaxValue").attr('disabled', false);
            }
            else if ($(this).val() == "RN") {
                $(this).closest('#ListParameters .itm').find("#StandardValue").attr('disabled', true);
                $(this).closest('#ListParameters .itm').find("#MinValue").attr('disabled', false);
                $(this).closest('#ListParameters .itm').find("#MaxValue").attr('disabled', false);
            } else if ($(this).val() == "DS" || $(this).val() == "GT" || $(this).val() == "LT") {
                $(this).closest('#ListParameters .itm').find("#StandardValue").attr('disabled', false);
                $(this).closest('#ListParameters .itm').find("#MinValue").attr('disabled', true);
                $(this).closest('#ListParameters .itm').find("#MaxValue").attr('disabled', true);
            }
        });

        $(document).on('change', '#DurationTypeCode', function (e) {

            $(this).removeClass('is-invalid');
            $(this).closest('#ListParameters .itm').find("#Duration").removeClass('is-invalid');
            $(this).closest('#ListParameters .itm').find("#Counter").removeClass('is-invalid');
            //  $(this).closest('#ListParameters .itm').find("#IncrementalDuation").removeClass('is-invalid');

            $(this).closest('#ListParameters .itm').find("#Duration").val('');
            $(this).closest('#ListParameters .itm').find("#Counter").val('');
            //   $(this).closest('#ListParameters .itm').find("#IncrementalDuation").val('');
            if ($(this).val() == "ONT") {
                $(this).closest('#ListParameters .itm').find("#Duration").attr('disabled', true);
                // $(this).closest('#ListParameters .itm').find("#Counter").attr('disabled', true);
                //   $(this).closest('#ListParameters .itm').find("#IncrementalDuation").attr('disabled', true);
            }
            else if ($(this).val() != "ONT") {
                $(this).closest('#ListParameters .itm').find("#Duration").attr('disabled', false);
                //   $(this).closest('#ListParameters .itm').find("#Counter").attr('disabled', false);
                //   $(this).closest('#ListParameters .itm').find("#IncrementalDuation").attr('disabled', false);
            }
        });

        $(document).on('change', '#ValueMethodCode', function (e) {

            $(this).removeClass('is-invalid');
            $(this).closest('#ListParameters .itm').find("#Desc1").removeClass('is-invalid');
            $(this).closest('#ListParameters .itm').find("#Desc2").removeClass('is-invalid');

            if ($(this).val() == "SN") {
                $(this).closest('#ListParameters .itm').find("#Desc1").attr('disabled', true);
                $(this).closest('#ListParameters .itm').find("#Desc2").attr('disabled', true);
            }
            else if ($(this).val() != "SN") {
                $(this).closest('#ListParameters .itm').find("#Desc1").attr('disabled', false);
                $(this).closest('#ListParameters .itm').find("#Desc2").attr('disabled', false);
            }
        });
    });

    $(document).on('change', '#ParamCode, #DurationTypeCode, #Duration,#EffectiveDate', function (e) {

        $(this).removeClass('is-invalid');
    });

    $(document).on('click', '#btnBack', function (e) {

        window.history.back();
    });

    $(document).on('click', '#btnDuplicate', function (e) {
        DocNumOnLoad();
        $(this).attr('disabled', true);
        isDuplicate = true;
        //  ValidateForm();
    });

    $(document).on('click', '#ListBtnDelete', function () {
        $(this).closest('tr').remove();
    })

    $(document).on('click', '#ListBtnDeleteRM', function () {
        $(this).closest('tr').remove();
    })

    $(document).on('click', '#ListBtnAddFile', function (e) {



        var html = `  <tr class="rowItemDetail align-items-center itm">

                                                                                <td>
                                                                                    <input readonly type="file" id="selectedFile" class="position-absolute d-none form-control form-control-sm">
                                                                                    <input id="selectedFilePath" class="form-control form-control-sm">
                                                                                    <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                </td>
                                                                                <td>
                                                                                    <input readonly id="selectedFileName" class="form-control form-control-sm">
                                                                                    <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                </td>
                                                                                <td>
                                                                                    <input readonly id="selectedFileDate" type="date" class="form-control form-control-sm">
                                                                                    <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                </td>
                                                                                <td>
                                                                                    <button id="btnbrowseFile" type="button" class="btn btn-light-primary font-weight-bold btn-sm"> <i class="la la-plus"></i> Browse </button>

                                                                                </td>
                                                                               <td>
                                                                        <a id = "ListBtnDelete" class="btn btn-bold btn-sm btn-light-danger">
                                                                        <i class="la la-trash"></i> X
                                                                       </a>
                                                                       </td>

                                                                            </tr> `;

        $('#kt_repeater_3 tbody').append(html);
    });
     $(document).on('keypress', '#CardCode,#DocNum,#CardName,#DocDate,#NumAtCard,#DocDue,#TaxDate,#ItemCode,#VatGroup,#GroupNum,#DocCur', function (e) 
    {
       
        $(this).removeClass('is-invalid');
    });
    $(document).on('click', '#ListBtnAddd', function (e) {
        var html = `    <tr class="rowItemDetail align-items-center itm">
                                                                                    <td>
                                                                                        <div class="input-group">
                                                                                            <input id="ItemCode" type="text" class="form-control form-control-sm" placeholder="Item No." aria-describedby="basic-addon2">
                                                                                            <div id="Itemno" class="input-group-append">
                                                                                                <span class="input-group-text">
                                                                                                    <i class="la la-search"></i>
                                                                                                </span>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input id="ItemName" class="form-control form-control-sm"  type="text">
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input class="form-control form-control-sm" id="QTY"  type="number">
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>

                                                                                    <td>
                                                                                        <input class="form-control form-control-sm" id="UPrc"  type="text">
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input class="form-control form-control-sm" id="DicPrc"  type="number">
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                    <td>

                                                                                         
                                                                                        <select  class="form-control jsSelect2" id="VatGroup">
                                                                                       `+vatGroupData+`
                                                                                        </select> 
                                                                       
                                                                   
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                        @*<input class="form-control form-control-sm" id="VatGroup" onkeyup="GetPrice()" type="number">
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>*@
                                                                                    </td>
                                                                                    <td>
                                                                                        <input class="form-control form-control-sm" id="TtlPrc" name="TotalLC" type='number' disabled>
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input class="form-control id=" UmoCode" form-control-sm" id="UomCode">
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <select class="form-control form-control-sm" id="CountryOrg" name="DurationTypeCode">
                                                                                            <option value="0" disabled selected>Select Country</option>
                                                                                            <option value="AF">Afghanistan</option>
                                                                                            <option value="AX">Åland Islands</option>
                                                                                            <option value="AL">Albania</option>
                                                                                            <option value="DZ">Algeria</option>
                                                                                            <option value="AS">American Samoa</option>
                                                                                            <option value="AD">Andorra</option>
                                                                                            <option value="AO">Angola</option>
                                                                                            <option value="AI">Anguilla</option>
                                                                                            <option value="AQ">Antarctica</option>
                                                                                            <option value="AG">Antigua & Barbuda</option>
                                                                                            <option value="AR">Argentina</option>
                                                                                            <option value="AM">Armenia</option>
                                                                                            <option value="AW">Aruba</option>
                                                                                            <option value="AU">Australia</option>
                                                                                            <option value="AT">Austria</option>
                                                                                            <option value="AZ">Azerbaijan</option>
                                                                                            <option value="BS">Bahamas</option>
                                                                                            <option value="BH">Bahrain</option>
                                                                                            <option value="BD">Bangladesh</option>
                                                                                            <option value="BB">Barbados</option>
                                                                                            <option value="BY">Belarus</option>
                                                                                            <option value="BE">Belgium</option>
                                                                                            <option value="BZ">Belize</option>
                                                                                            <option value="BJ">Benin</option>
                                                                                            <option value="BM">Bermuda</option>
                                                                                            <option value="BT">Bhutan</option>
                                                                                            <option value="BO">Bolivia</option>
                                                                                            <option value="BQ">Caribbean Netherlands</option>
                                                                                            <option value="BA">Bosnia & Herzegovina</option>
                                                                                            <option value="BW">Botswana</option>
                                                                                            <option value="BV">Bouvet Island</option>
                                                                                            <option value="BR">Brazil</option>
                                                                                            <option value="IO">British Indian Ocean Territory</option>
                                                                                            <option value="BN">Brunei</option>
                                                                                            <option value="BG">Bulgaria</option>
                                                                                            <option value="BF">Burkina Faso</option>
                                                                                            <option value="BI">Burundi</option>
                                                                                            <option value="KH">Cambodia</option>
                                                                                            <option value="CM">Cameroon</option>
                                                                                            <option value="CA">Canada</option>
                                                                                            <option value="CV">Cape Verde</option>
                                                                                            <option value="KY">Cayman Islands</option>
                                                                                            <option value="CF">Central African Republic</option>
                                                                                            <option value="TD">Chad</option>
                                                                                            <option value="CL">Chile</option>
                                                                                            <option value="CN">China</option>
                                                                                            <option value="CX">Christmas Island</option>
                                                                                            <option value="CC">Cocos (Keeling) Islands</option>
                                                                                            <option value="CO">Colombia</option>
                                                                                            <option value="KM">Comoros</option>
                                                                                            <option value="CG">Congo - Brazzaville</option>
                                                                                            <option value="CD">Congo - Kinshasa</option>
                                                                                            <option value="CK">Cook Islands</option>
                                                                                            <option value="CR">Costa Rica</option>
                                                                                            <option value="CI">Côte d’Ivoire</option>
                                                                                            <option value="HR">Croatia</option>
                                                                                            <option value="CU">Cuba</option>
                                                                                            <option value="CW">Curaçao</option>
                                                                                            <option value="CY">Cyprus</option>
                                                                                            <option value="CZ">Czechia</option>
                                                                                            <option value="DK">Denmark</option>
                                                                                            <option value="DJ">Djibouti</option>
                                                                                            <option value="DM">Dominica</option>
                                                                                            <option value="DO">Dominican Republic</option>
                                                                                            <option value="EC">Ecuador</option>
                                                                                            <option value="EG">Egypt</option>
                                                                                            <option value="SV">El Salvador</option>
                                                                                            <option value="GQ">Equatorial Guinea</option>
                                                                                            <option value="ER">Eritrea</option>
                                                                                            <option value="EE">Estonia</option>
                                                                                            <option value="ET">Ethiopia</option>
                                                                                            <option value="FK">Falkland Islands (Islas Malvinas)</option>
                                                                                            <option value="FO">Faroe Islands</option>
                                                                                            <option value="FJ">Fiji</option>
                                                                                            <option value="FI">Finland</option>
                                                                                            <option value="FR">France</option>
                                                                                            <option value="GF">French Guiana</option>
                                                                                            <option value="PF">French Polynesia</option>
                                                                                            <option value="TF">French Southern Territories</option>
                                                                                            <option value="GA">Gabon</option>
                                                                                            <option value="GM">Gambia</option>
                                                                                            <option value="GE">Georgia</option>
                                                                                            <option value="DE">Germany</option>
                                                                                            <option value="GH">Ghana</option>
                                                                                            <option value="GI">Gibraltar</option>
                                                                                            <option value="GR">Greece</option>
                                                                                            <option value="GL">Greenland</option>
                                                                                            <option value="GD">Grenada</option>
                                                                                            <option value="GP">Guadeloupe</option>
                                                                                            <option value="GU">Guam</option>
                                                                                            <option value="GT">Guatemala</option>
                                                                                            <option value="GG">Guernsey</option>
                                                                                            <option value="GN">Guinea</option>
                                                                                            <option value="GW">Guinea-Bissau</option>
                                                                                            <option value="GY">Guyana</option>
                                                                                            <option value="HT">Haiti</option>
                                                                                            <option value="HM">Heard & McDonald Islands</option>
                                                                                            <option value="VA">Vatican City</option>
                                                                                            <option value="HN">Honduras</option>
                                                                                            <option value="HK">Hong Kong</option>
                                                                                            <option value="HU">Hungary</option>
                                                                                            <option value="IS">Iceland</option>
                                                                                            <option value="IN">India</option>
                                                                                            <option value="ID">Indonesia</option>
                                                                                            <option value="IR">Iran</option>
                                                                                            <option value="IQ">Iraq</option>
                                                                                            <option value="IE">Ireland</option>
                                                                                            <option value="IM">Isle of Man</option>
                                                                                            <option value="IL">Israel</option>
                                                                                            <option value="IT">Italy</option>
                                                                                            <option value="JM">Jamaica</option>
                                                                                            <option value="JP">Japan</option>
                                                                                            <option value="JE">Jersey</option>
                                                                                            <option value="JO">Jordan</option>
                                                                                            <option value="KZ">Kazakhstan</option>
                                                                                            <option value="KE">Kenya</option>
                                                                                            <option value="KI">Kiribati</option>
                                                                                            <option value="KP">North Korea</option>
                                                                                            <option value="KR">South Korea</option>
                                                                                            <option value="XK">Kosovo</option>
                                                                                            <option value="KW">Kuwait</option>
                                                                                            <option value="KG">Kyrgyzstan</option>
                                                                                            <option value="LA">Laos</option>
                                                                                            <option value="LV">Latvia</option>
                                                                                            <option value="LB">Lebanon</option>
                                                                                            <option value="LS">Lesotho</option>
                                                                                            <option value="LR">Liberia</option>
                                                                                            <option value="LY">Libya</option>
                                                                                            <option value="LI">Liechtenstein</option>
                                                                                            <option value="LT">Lithuania</option>
                                                                                            <option value="LU">Luxembourg</option>
                                                                                            <option value="MO">Macao</option>
                                                                                            <option value="MK">North Macedonia</option>
                                                                                            <option value="MG">Madagascar</option>
                                                                                            <option value="MW">Malawi</option>
                                                                                            <option value="MY">Malaysia</option>
                                                                                            <option value="MV">Maldives</option>
                                                                                            <option value="ML">Mali</option>
                                                                                            <option value="MT">Malta</option>
                                                                                            <option value="MH">Marshall Islands</option>
                                                                                            <option value="MQ">Martinique</option>
                                                                                            <option value="MR">Mauritania</option>
                                                                                            <option value="MU">Mauritius</option>
                                                                                            <option value="YT">Mayotte</option>
                                                                                            <option value="MX">Mexico</option>
                                                                                            <option value="FM">Micronesia</option>
                                                                                            <option value="MD">Moldova</option>
                                                                                            <option value="MC">Monaco</option>
                                                                                            <option value="MN">Mongolia</option>
                                                                                            <option value="ME">Montenegro</option>
                                                                                            <option value="MS">Montserrat</option>
                                                                                            <option value="MA">Morocco</option>
                                                                                            <option value="MZ">Mozambique</option>
                                                                                            <option value="MM">Myanmar (Burma)</option>
                                                                                            <option value="NA">Namibia</option>
                                                                                            <option value="NR">Nauru</option>
                                                                                            <option value="NP">Nepal</option>
                                                                                            <option value="NL">Netherlands</option>
                                                                                            <option value="AN">Curaçao</option>
                                                                                            <option value="NC">New Caledonia</option>
                                                                                            <option value="NZ">New Zealand</option>
                                                                                            <option value="NI">Nicaragua</option>
                                                                                            <option value="NE">Niger</option>
                                                                                            <option value="NG">Nigeria</option>
                                                                                            <option value="NU">Niue</option>
                                                                                            <option value="NF">Norfolk Island</option>
                                                                                            <option value="MP">Northern Mariana Islands</option>
                                                                                            <option value="NO">Norway</option>
                                                                                            <option value="OM">Oman</option>
                                                                                            <option value="PK">Pakistan</option>
                                                                                            <option value="PW">Palau</option>
                                                                                            <option value="PS">Palestine</option>
                                                                                            <option value="PA">Panama</option>
                                                                                            <option value="PG">Papua New Guinea</option>
                                                                                            <option value="PY">Paraguay</option>
                                                                                            <option value="PE">Peru</option>
                                                                                            <option value="PH">Philippines</option>
                                                                                            <option value="PN">Pitcairn Islands</option>
                                                                                            <option value="PL">Poland</option>
                                                                                            <option value="PT">Portugal</option>
                                                                                            <option value="PR">Puerto Rico</option>
                                                                                            <option value="QA">Qatar</option>
                                                                                            <option value="RE">Réunion</option>
                                                                                            <option value="RO">Romania</option>
                                                                                            <option value="RU">Russia</option>
                                                                                            <option value="RW">Rwanda</option>
                                                                                            <option value="BL">St. Barthélemy</option>
                                                                                            <option value="SH">St. Helena</option>
                                                                                            <option value="KN">St. Kitts & Nevis</option>
                                                                                            <option value="LC">St. Lucia</option>
                                                                                            <option value="MF">St. Martin</option>
                                                                                            <option value="PM">St. Pierre & Miquelon</option>
                                                                                            <option value="VC">St. Vincent & Grenadines</option>
                                                                                            <option value="WS">Samoa</option>
                                                                                            <option value="SM">San Marino</option>
                                                                                            <option value="ST">São Tomé & Príncipe</option>
                                                                                            <option value="SA">Saudi Arabia</option>
                                                                                            <option value="SN">Senegal</option>
                                                                                            <option value="RS">Serbia</option>
                                                                                            <option value="CS">Serbia</option>
                                                                                            <option value="SC">Seychelles</option>
                                                                                            <option value="SL">Sierra Leone</option>
                                                                                            <option value="SG">Singapore</option>
                                                                                            <option value="SX">Sint Maarten</option>
                                                                                            <option value="SK">Slovakia</option>
                                                                                            <option value="SI">Slovenia</option>
                                                                                            <option value="SB">Solomon Islands</option>
                                                                                            <option value="SO">Somalia</option>
                                                                                            <option value="ZA">South Africa</option>
                                                                                            <option value="GS">South Georgia & South Sandwich Islands</option>
                                                                                            <option value="SS">South Sudan</option>
                                                                                            <option value="ES">Spain</option>
                                                                                            <option value="LK">Sri Lanka</option>
                                                                                            <option value="SD">Sudan</option>
                                                                                            <option value="SR">Suriname</option>
                                                                                            <option value="SJ">Svalbard & Jan Mayen</option>
                                                                                            <option value="SZ">Eswatini</option>
                                                                                            <option value="SE">Sweden</option>
                                                                                            <option value="CH">Switzerland</option>
                                                                                            <option value="SY">Syria</option>
                                                                                            <option value="TW">Taiwan</option>
                                                                                            <option value="TJ">Tajikistan</option>
                                                                                            <option value="TZ">Tanzania</option>
                                                                                            <option value="TH">Thailand</option>
                                                                                            <option value="TL">Timor-Leste</option>
                                                                                            <option value="TG">Togo</option>
                                                                                            <option value="TK">Tokelau</option>
                                                                                            <option value="TO">Tonga</option>
                                                                                            <option value="TT">Trinidad & Tobago</option>
                                                                                            <option value="TN">Tunisia</option>
                                                                                            <option value="TR">Turkey</option>
                                                                                            <option value="TM">Turkmenistan</option>
                                                                                            <option value="TC">Turks & Caicos Islands</option>
                                                                                            <option value="TV">Tuvalu</option>
                                                                                            <option value="UG">Uganda</option>
                                                                                            <option value="UA">Ukraine</option>
                                                                                            <option value="AE">United Arab Emirates</option>
                                                                                            <option value="GB">United Kingdom</option>
                                                                                            <option value="US">United States</option>
                                                                                            <option value="UM">U.S. Outlying Islands</option>
                                                                                            <option value="UY">Uruguay</option>
                                                                                            <option value="UZ">Uzbekistan</option>
                                                                                            <option value="VU">Vanuatu</option>
                                                                                            <option value="VE">Venezuela</option>
                                                                                            <option value="VN">Vietnam</option>
                                                                                            <option value="VG">British Virgin Islands</option>
                                                                                            <option value="VI">U.S. Virgin Islands</option>
                                                                                            <option value="WF">Wallis & Futuna</option>
                                                                                            <option value="EH">Western Sahara</option>
                                                                                            <option value="YE">Yemen</option>
                                                                                            <option value="ZM">Zambia</option>
                                                                                            <option value="ZW">Zimbabwe</option>
                                                                                        </select>
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                    <td>
                                                                        <a id = "ListBtnDelete" class="btn btn-bold btn-sm btn-light-danger">
                                                                        <i class="la la-trash"></i> X
                                                                       </a>
                                                                       </td>
                                                                                </tr>`;
        $('#kt_repeater_1 tbody').append(html);
        //$('#VatGroup').select2('destroy');
        //$('.jsSelect2').select2();
       // addDataInVatGroup();
    });

    $(document).on('click', '#ListBtnAddRM', function (e) {

        var html = ` <tr class="rowItemDetail align-items-center itm">

                                                                                    <td>
                                                                                        <input id="Dscription" class="form-control form-control-sm">
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <div class="input-group">
                                                                                            <input type="text" id="AcctCode" class="form-control form-control-sm" placeholder="GL Account" aria-describedby="basic-addon2">
                                                                                            <div id="GLAccountNo" class="input-group-append">
                                                                                                <span class="input-group-text">
                                                                                                    <i class="la la-search"></i>
                                                                                                </span>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input id="AcctName" class="form-control form-control-sm">
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <select  class="form-control" id="VatGroup2" >
                                                                                       `+vatGroupData+`
                                                                                        </select> 
                                                                                        
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input class="form-control form-control-sm" id="TotalLC">
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input class="form-control form-control-sm" id="BlanketAgreementNo">
                                                                                        <div id="ErrorMsg" class="error invalid-feedback">This field is required.</div>
                                                                                    </td>
                                                                                      <td>
                                                                        <a id = "ListBtnDelete" class="btn btn-bold btn-sm btn-light-danger">
                                                                        <i class="la la-trash"></i> X
                                                                       </a>
                                                                       </td>
                                                                                </tr>`;

        $('#kt_repeater_2 tbody').append(html);
        //addDataInVatGroup();
    });

    $(document).on('click', '#btnSave', function (e) {

        $('#btnSave').addClass('kt-spinner kt-spinner--right kt-spinner--md kt-spinner--light');
        $('#btnSave').attr('disabled', true);

        ValidateForm();
    });

    function GetListValueType() {

        return $.ajax({
            url: '/LabTemplate/GetListValueType',
            dataType: 'json',
            type: 'Get',
            async: false,
            success: function (result) {


            },
            error: function (jqXhr, textStatus, errorMessage) {
                console.log(errorMessage);
            }

        }).done(function (result) {

            result = result.data;
            console.log(result)

            var html = '';
            for (var i = 0; i < result.length; i++) {
                $('#ValueTypeCode').append('<option value="' + result[i].valueTypeCode + '">' + result[i].valueTypeDescription + ' </option>');
                $('#LengthValueType').append('<option value="' + result[i].valueTypeCode + '">' + result[i].valueTypeDescription + ' </option>');
                $('#WidthValueType').append('<option value="' + result[i].valueTypeCode + '">' + result[i].valueTypeDescription + ' </option>');
                html += '<option value="' + result[i].valueTypeCode + '">' + result[i].valueTypeDescription + ' </option>';
                ListValueType = html;
            }


        });
    }

    function GetListDurationType() {

        return $.ajax({
            url: '/LabTemplate/GetListDurationType',
            dataType: 'json',
            type: 'Get',
            async: false,
            success: function (result) {


            },
            error: function (jqXhr, textStatus, errorMessage) {
                console.log(errorMessage);
            }

        }).done(function (result) {

            result = result.data;
            console.log(result)
            var html = '';
            for (var i = 0; i < result.length; i++) {
                $('#DurationTypeCode').append('<option value="' + result[i].durationTypeCode + '">' + result[i].durationTypeDescription + ' </option>');
                html += '<option value="' + result[i].durationTypeCode + '">' + result[i].durationTypeDescription + ' </option>';
                ListDurationType = html;
            }


        });
    }

    function GetListValueMethod() {

        return $.ajax({
            url: '/LabTemplate/GetListValueMethod',
            dataType: 'json',
            type: 'Get',
            async: false,
            success: function (result) {


            },
            error: function (jqXhr, textStatus, errorMessage) {
                console.log(errorMessage);
            }

        }).done(function (result) {

            result = result.data;
            console.log(result)
            var html = '';
            for (var i = 0; i < result.length; i++) {
                $('#ValueMethodCode').append('<option value="' + result[i].methodCode + '">' + result[i].methodDescription + ' </option>');
                html += '<option value="' + result[i].methodCode + '">' + result[i].methodDescription + ' </option>';
                ListValueMethod = html;
            }


        });
    }

    function GetLisParameters() {

        return $.ajax({
            url: '/LabTemplate/GetListParameters',
            dataType: 'json',
            type: 'Get',
            async: false,
            success: function (result) {


            },
            error: function (jqXhr, textStatus, errorMessage) {
                console.log(errorMessage);
            }

        }).done(function (result) {

            result = result.data;
            console.log(result)
            var html = '';
            for (var i = 0; i < result.length; i++) {
                $('#ParamCode').append('<option value="' + result[i].paramCode + '">' + result[i].paramName + ' </option>');
                html += '<option value="' + result[i].paramCode + '">' + result[i].paramName + ' </option>';
                ListParameter = html;
            }


        });
    }

    function GetLisRmCodes() {

        return $.ajax({
            url: '/LabTemplate/GetListRmCodes',
            dataType: 'json',
            type: 'Get',
            async: false,
            success: function (result) {


            },
            error: function (jqXhr, textStatus, errorMessage) {
                console.log(errorMessage);
            }

        }).done(function (result) {

            result = result.data;
            console.log(result)
            var html = '';
            for (var i = 0; i < result.length; i++) {
                $('#RmCode').append('<option value="' + result[i].itemCode + '">' + result[i].itemName + ' </option>');
                html += '<option value="' + result[i].itemCode + '">' + result[i].itemName + ' </option>';
                ListItemCodes = html;
            }


        });
    }

    $(document).on('click', '#btnSaveData', function (e) 
    {
          $(this).addClass('kt-spinner kt-spinner--right kt-spinner--md kt-spinner--light');
          $(this).attr('disabled', true);
          if(
               ValidateData("HeaderForm") 
            && ItemServiceType == '1' ?  ValidateListData("ListParameters .itm") : ValidateListData("ListParameters2 .itm")
            && ValidateData("kt_tabs_acct")
            ) 
          FormData();
          else
          {
            $(this).removeClass('kt-spinner kt-spinner--right kt-spinner--md kt-spinner--light');
            $(this).attr('disabled', false);
          }
    });
    
    
    function ValidateData(element) 
    {

        let isValid = [];

        $('#' + element + ' input,' + '#' + element + ' select, ' + '#' + element + ' textarea').each(function (index, data) 
        {
            
            if($(this).attr("id") != undefined || $(this).attr("id") != "" || $(this).attr("id") != '')     
            {
                    if ($(this).val() == null || $(this).val() == '' || $(this).val() == undefined) 
                    {
                            $(this).addClass('is-invalid');
                            isValid.push(false);
                    }
                    else 
                    {
                        $(this).removeClass('is-invalid');
                         isValid.push(true);
                    }
                  
            }
        });

        if(isValid.includes(false))
            return false;
            else
            return true;

    }

    function ValidateListData(element) 
    {
        let isValid = [];
            
            debugger
            $('#' + element).each(function (index, item) {
           
                $(this).find('input , select , textarea').each(function (index, data) 
                {

                if($(this).attr("id") != undefined || $(this).attr("id") != "" || $(this).attr("id") != '') 
                    {
                         if ($(this).val() == null || $(this).val() == '' || $(this).val() == undefined) 
                        {
                            $(this).addClass('is-invalid');
                            isValid.push(false);
                        }
                        else 
                        {
                        $(this).removeClass('is-invalid');
                         isValid.push(true);
                        }
                    }
                  
                });

            }); 


        if(isValid.includes(false))
            return false;
            else
            return true;
    }

    function FormData() 
    {
            
        
        var data =
        { 
        HeaderData : getJsonObj("HeaderForm"),
        ListAccouting : getJsonObj("kt_tabs_acct"),
        ListItems: ItemServiceType == '1' ?  getJsonObjList("ListParameters .itm") : null,
        ListService: ItemServiceType == '2' ? getJsonObjList("ListParameters2 .itm") : null,
        ListAttachment: getJsonObjList("ListParameters3 .itm"),
        FooterData : getJsonObj("FooterData")
      
        }
      
       
       PostData(data);

    
    }

    function PostData(formData) 
    {
      
        console.log(JSON.stringify(formData));
      
        return $.ajax({
            url: '/SaleQuotation/AddSalesQoutation',
            dataType: 'json',
            type: 'POST',
            
             data: { formData: JSON.stringify(formData)},

            success: function (result) 
            {
                console.log(result);
                if (result.isInserted) {
                    toastr.success(result.message);

                    setTimeout(
                        function () 
                        {

                            $('#btnSave').removeClass('kt-spinner kt-spinner--right kt-spinner--md kt-spinner--light');
                            $('#btnSave').attr('disabled', false);

                        }, 800);
                    setTimeout(function () {
                        window.history.back();
                    }, 800);


                }

                if (result.isInserted) {
                    toastr.error(result.message);
                    $('#btnSave').removeClass('kt-spinner kt-spinner--right kt-spinner--md kt-spinner--light');
                    $('#btnSave').attr('disabled', false);

                }

            },
            error: function (jqXhr, textStatus, errorMessage) {
                console.log(errorMessage);
            }

        }).done(function (result) {

        });
    }

    function getJsonObj(element) {

        var jsonobj = new Object();

        

        $('#' + element + ' input,' + '#' + element + ' select, ' + '#' + element + ' textarea').each(function (index, data) {
            
            if($(this).attr("id") != undefined || $(this).attr("id") != "" || $(this).attr("id") != '')     
                jsonobj[$(this).attr("id")] = $(this).val();

        });
        return jsonobj;
    }

    function getJsonObjList(element) {
        let listObj = [];

        $('#' + element).each(function (index, item) {
            var jsonobj = new Object();
            $(this).find('input , select , textarea').each(function (index, data) 
            {

                if($(this).attr("id") != undefined || $(this).attr("id") != "" || $(this).attr("id") != '') 
                    jsonobj[$(this).attr("id")] = $(this).val();
                  
            });

            listObj.push(jsonobj);



        })
        return listObj;
    }

    //==================== End Post Data Working===========================//
    //===============================================







    //function FormData() {
    //    var data = {

    //        Guid: $('#Guid').val(),
    //        DocDate: $('#DocDate').val(),
    //        DocNum: $('#DocNum').val(),
    //        EffectiveDate: $('#EffectiveDate').val(),
    //        ItemCode: $('#ItemCode option:selected').val(),
    //        ItemName: $('#ItemCode option:selected').text(),
    //        ListLabTemplateDetails: [],
    //        ListLabTemplateRmDetails: []
    //    }

    //    $('#ListParameters .itm').each(function (index, item) {


    //        var ParamCode = $(this).closest('#ListParameters .itm').find("#ParamCode option:selected").val();
    //        var QcMethod = $(this).closest('#ListParameters .itm').find("#QcMethod").val();
    //        var ValueTypeCode = $(this).closest('#ListParameters .itm').find("#ValueTypeCode option:selected").val();
    //        var StandardValue = $(this).closest('#ListParameters .itm').find("#StandardValue").val();
    //        var MinValue = $(this).closest('#ListParameters .itm').find("#MinValue").val();
    //        var MaxValue = $(this).closest('#ListParameters .itm').find("#MaxValue").val();
    //        var ValueMethodCode = $(this).closest('#ListParameters .itm').find("#ValueMethodCode option:selected").val();
    //        var Desc1 = $(this).closest('#ListParameters .itm').find("#Desc1").val();
    //        var Desc2 = $(this).closest('#ListParameters .itm').find("#Desc2").val();
    //        var DurationTypeCode = $(this).closest('#ListParameters .itm').find("#DurationTypeCode option:selected").val();
    //        var Duration = $(this).closest('#ListParameters .itm').find("#Duration").val();
    //        var Counter = $(this).closest('#ListParameters .itm').find("#Counter").val();
    //        //var IncrementalDuation = $(this).closest('#ListParameters .itm').find("#IncrementalDuation").val();
    //        //var ParamCode = $(this).closest('#ListParameters .itm').find("#ParamCode").val().val();
    //        //var DurationTypeCode = $(this).closest('#ListParameters .itm').find("#DurationTypeCode").val();
    //        //var Duration = $(this).closest('#ListParameters .itm').find("#Duration").val();
    //        //var IncrementalDuration = $(this).closest('#ListParameters .itm').find("#IncrementalDuration").text();

    //        var ListDate = {
    //            ParamCode: ParamCode,
    //            QcMethod: QcMethod,
    //            ValueTypeCode: ValueTypeCode,
    //            StandardValue: StandardValue,
    //            MinValue: MinValue,
    //            MaxValue: MaxValue,
    //            ValueMethodCode: ValueMethodCode,
    //            Desc1: Desc1,
    //            Desc2: Desc2,
    //            DurationTypeCode: DurationTypeCode,
    //            Duration: Duration,
    //            ParamCount: Counter,
    //        };

    //        data.ListLabTemplateDetails.push(ListDate);

    //    });

    //    $('#ListParameters2 .itm').each(function (index, item) {

    //        var ItemCode = $(this).closest('#ListParameters2 .itm').find("#RmCode option:selected").val();
    //        var LengthValueType = $(this).closest('#ListParameters2 .itm').find("#LengthValueType option:selected").val();
    //        var StandardLength = $(this).closest('#ListParameters2 .itm').find("#StandardLength").val();
    //        var MinLength = $(this).closest('#ListParameters2 .itm').find("#MinLength").val();
    //        var MaxLength = $(this).closest('#ListParameters2 .itm').find("#MaxLength").val();
    //        var WidthValueType = $(this).closest('#ListParameters2 .itm').find("#WidthValueType option:selected").val();
    //        var StandardWidth = $(this).closest('#ListParameters2 .itm').find("#StandardWidth").val();
    //        var MinWidth = $(this).closest('#ListParameters2 .itm').find("#MinWidth").val();
    //        var MaxWidth = $(this).closest('#ListParameters2 .itm').find("#MaxWidth").val();

    //        var dd2 = {
    //            ItemCode: ItemCode,
    //            LengthValueType: LengthValueType,
    //            StandardLength: StandardLength,
    //            MinLength: MinLength,
    //            MaxLength: MaxLength,
    //            WidthValueType: WidthValueType,
    //            StandardWidth: StandardWidth,
    //            MinWidth: MinWidth,
    //            MaxWidth: MaxWidth,

    //        };

    //        data.ListLabTemplateRmDetails.push(dd2);
    //    });

    //    console.log(data);
    //    return data;
    //}

    function Add() {

        return $.ajax({
            url: '/LabTemplate/Add',
            dataType: 'json',
            type: 'POST',
            data: FormData(),
            success: function (result) {
                console.log(result);
                if (result.isInserted) {
                    toastr.success(result.message);

                    setTimeout(
                        function () {

                            $('#btnSave').removeClass('kt-spinner kt-spinner--right kt-spinner--md kt-spinner--light');
                            $('#btnSave').attr('disabled', false);

                        }, 800);
                    setTimeout(function () {
                        window.history.back();
                    }, 800);


                }

                if (result.isError) {
                    toastr.error(result.message);
                    $('#btnSave').removeClass('kt-spinner kt-spinner--right kt-spinner--md kt-spinner--light');
                    $('#btnSave').attr('disabled', false);

                }

            },
            error: function (jqXhr, textStatus, errorMessage) {
                console.log(errorMessage);
            }

        }).done(function (result) {


        });
    }

    function Edit() {

        return $.ajax({
            url: '/LabTemplate/Edit',
            dataType: 'json',
            type: 'POST',
            data: FormData(),
            success: function (result) {
                console.log(result);
                if (result.isInserted) {
                    toastr.success(result.message);

                    setTimeout(
                        function () {

                            $('#btnSave').removeClass('kt-spinner kt-spinner--right kt-spinner--md kt-spinner--light');
                            $('#btnSave').attr('disabled', false);

                        }, 800);
                    setTimeout(function () {
                        window.history.back();
                    }, 800);


                }

                if (result.isError) {
                    toastr.error(result.message);
                    $('#btnSave').removeClass('kt-spinner kt-spinner--right kt-spinner--md kt-spinner--light');
                    $('#btnSave').attr('disabled', false);

                }



            },
            error: function (jqXhr, textStatus, errorMessage) {
                console.log(errorMessage);
            }

        }).done(function (result) {


        });
    }

    function PopulateData() {

        return $.ajax({
            url: '/LabTemplate/GetData',
            dataType: 'json',
            type: 'Get',
            data: { Guid: $("#Guid").val() },
            success: function (result) {


            },
            error: function (jqXhr, textStatus, errorMessage) {
                console.log(errorMessage);
            }

        }).done(function (result) {
            debugger
            result = result.data;
            console.log(result)

            $('#DocDate').val(moment(result.docDate).format("YYYY-MM-DD"));
            $('#EffectiveDate').val(moment(result.effectiveDate).format("YYYY-MM-DD"));
            //$('#ItemCode').val(result.itemCode);
            $('#DocNum').val(result.docNum);

            var SelectData = [];
            SelectData.push(result.itemCode);
            $('#ItemCode').val(SelectData);
            $('#ItemCode').change();

            for (var i = 1; i < result.listLabTemplateDetails.length; i++) {
                $('#ListBtnAddd').click();
            }




            $('#ListParameters .itm').each(function (index, item) {
                $(this).closest('#ListParameters .itm').find("#ParamCode").val(result.listLabTemplateDetails[index].paramCode);
                $(this).closest('#ListParameters .itm').find("#QcMethod").val(result.listLabTemplateDetails[index].qcMethod);
                $(this).closest('#ListParameters .itm').find("#ValueTypeCode").val(result.listLabTemplateDetails[index].valueTypeCode).trigger('change');
                $(this).closest('#ListParameters .itm').find('#ValueTypeCode').trigger('change');
                $(this).closest('#ListParameters .itm').find("#StandardValue").val(result.listLabTemplateDetails[index].standardValue);
                $(this).closest('#ListParameters .itm').find("#MinValue").val(result.listLabTemplateDetails[index].minValue);
                $(this).closest('#ListParameters .itm').find("#MaxValue").val(result.listLabTemplateDetails[index].maxValue);
                $(this).closest('#ListParameters .itm').find("#ValueMethodCode").val(result.listLabTemplateDetails[index].valueMethodCode).trigger('change');
                $(this).closest('#ListParameters .itm').find("#Desc1").val(result.listLabTemplateDetails[index].desc1);
                $(this).closest('#ListParameters .itm').find("#Desc2").val(result.listLabTemplateDetails[index].desc2);
                $(this).closest('#ListParameters .itm').find("#DurationTypeCode").val(result.listLabTemplateDetails[index].durationTypeCode).trigger('change');
                $(this).closest('#ListParameters .itm').find("#Duration").val(result.listLabTemplateDetails[index].duration);
                $(this).closest('#ListParameters .itm').find("#Counter").val(result.listLabTemplateDetails[index].paramCount);
            });

            for (var i = 1; i < result.listLabTemplateRmDetails.length; i++) {
                $('#ListBtnAddRM').click();
            }

            $('#ListParameters2 .itm').each(function (index, item) {
                $(this).closest('#ListParameters2 .itm').find("#RmCode").val(result.listLabTemplateRmDetails[index].itemCode);
                $(this).closest('#ListParameters2 .itm').find("#LengthValueType").val(result.listLabTemplateRmDetails[index].lengthValueType).trigger('change');;
                $(this).closest('#ListParameters2 .itm').find("#StandardLength").val(result.listLabTemplateRmDetails[index].standardLength)
                $(this).closest('#ListParameters2 .itm').find("#MinLength").val(result.listLabTemplateRmDetails[index].minLength)
                $(this).closest('#ListParameters2 .itm').find("#MaxLength").val(result.listLabTemplateRmDetails[index].maxLength);
                $(this).closest('#ListParameters2 .itm').find("#WidthValueType").val(result.listLabTemplateRmDetails[index].widthValueType).trigger('change');
                $(this).closest('#ListParameters2 .itm').find("#StandardWidth").val(result.listLabTemplateRmDetails[index].standardWidth);
                $(this).closest('#ListParameters2 .itm').find("#MinWidth").val(result.listLabTemplateRmDetails[index].minWidth)
                $(this).closest('#ListParameters2 .itm').find("#MaxWidth").val(result.listLabTemplateRmDetails[index].maxWidth);
            });

        });
    }

    function DocNumOnLoad() {

        $.get('/SaleQuotation/getUpdatedDocumentNumberOnLoad', function(data, status)
            {
                $('#DocNum').val( data );
            });
        //return $.ajax({
        //    url: '/SaleQuotation/getUpdatedDocumentNumberOnLoad',
        //    dataType: 'json',
        //    type: 'Get',
        //    success: function (result) 
        //    {


        //    },
        //    error: function (jqXhr, textStatus, errorMessage) {
        //        console.log(errorMessage);
        //    }

        //}).done(function (result) {

        //   // result = result.data;
        //    console.log(result)
        //    $('#DocNum').val(result);


        //});
    }

</script>
